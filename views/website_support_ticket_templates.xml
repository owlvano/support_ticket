<?xml version="1.0" encoding="utf-8"?>
<odoo>
<data>
  
  <template id="assets_frontend" inherit_id="web.assets_frontend" name="website support ticket frontend assets">
      <xpath expr="." position="inside">
          <script type="text/javascript" src="/support_ticket/static/src/js/sorttable.js"></script>
      </xpath>
  </template>

  <template id="website_support.support_ticket_view_list" name="My Support Tickets" page="True">
    <t t-call="website.layout">
        <div class="container">


            <div class="mt16 mb16">
                <h1 class="text-center">My Support Tickets</h1>
            </div>
        
            <div class="col-md-3"></div>

            <div class="col-md-6">
                <t t-if="ticket_count > 0"> 
                    <table class="table table-striped table-bordered table-hover table-condensed sortable">
                        <tr>
                          <th class="sorttable_nosort">By</th>
                          <th class="sorttable_nosort">Subject</th>
                          <th class="sorttable_nosort">Category</th>
                          <th class="sorttable_nosort">State</th>
                          <th>Create Date</th>
                        </tr>
                        <t t-foreach="support_tickets" t-as="support_ticket">
                            <tr>
                              <td><t t-esc="support_ticket.person_name"/></td>
                              <td><a t-attf-href="/support/ticket/view/#{support_ticket.id}"><t t-esc="support_ticket.subject"/></a></td>
                              <td><t t-esc="support_ticket.category.name"/></td>
                              <td><t t-esc="support_ticket.state.name"/></td>
                              <td><t t-esc="support_ticket.create_date"/></td>
                            </tr>
                        </t>
                </table>
                </t>
                <t t-if="ticket_count == 0">
                    <div class="mt16 mb16">
                      <h2 class="text-center">You have no support tickets</h2>
                    </div>
                </t>
            </div>
            <div class="col-md-3"></div>
        </div>
        
    </t>
  </template>
</data>
</odoo>